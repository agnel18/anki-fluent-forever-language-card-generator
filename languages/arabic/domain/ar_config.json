{
  "grammatical_roles": {
    "beginner": {
      "noun": "noun (اسم)",
      "verb": "verb (فعل)",
      "particle": "particle (حرف)",
      "other": "other"
    },
    "intermediate": {
      "noun": "noun (اسم)",
      "verb": "verb (فعل)",
      "adjective": "adjective (صفة)",
      "preposition": "preposition (حرف جر)",
      "conjunction": "conjunction (حرف عطف)",
      "interrogative": "interrogative (حرف استفهام)",
      "negation": "negation (نفي)",
      "definite_article": "definite article (ال)",
      "pronoun": "pronoun (ضمير)",
      "other": "other"
    },
    "advanced": {
      "noun": "noun (اسم)",
      "verb": "verb (فعل)",
      "adjective": "adjective (صفة)",
      "preposition": "preposition (حرف جر)",
      "conjunction": "conjunction (حرف عطف)",
      "interrogative": "interrogative (حرف استفهام)",
      "negation": "negation (نفي)",
      "definite_article": "definite article (ال)",
      "pronoun": "pronoun (ضمير)",
      "nominative": "nominative case (رفع)",
      "accusative": "accusative case (نصب)",
      "genitive": "genitive case (جر)",
      "perfect_verb": "perfect verb (فعل ماض)",
      "imperfect_verb": "imperfect verb (فعل مضارع)",
      "imperative_verb": "imperative verb (فعل أمر)",
      "active_participle": "active participle (اسم فاعل)",
      "passive_participle": "passive participle (اسم مفعول)",
      "dual": "dual number (مثنى)",
      "sound_plural": "sound plural (جمع سالم)",
      "broken_plural": "broken plural (جمع مكسر)",
      "other": "other"
    }
  },
  "color_schemes": {
    "beginner": {
      "noun": "#4ECDC4",
      "verb": "#FF44FF",
      "particle": "#FFAA00",
      "other": "#9370DB"
    },
    "intermediate": {
      "noun": "#4ECDC4",
      "verb": "#FF44FF",
      "adjective": "#FFD700",
      "preposition": "#FFAA00",
      "conjunction": "#FF6347",
      "interrogative": "#32CD32",
      "negation": "#DC143C",
      "definite_article": "#FF4500",
      "pronoun": "#9370DB",
      "other": "#708090"
    },
    "advanced": {
      "noun": "#4ECDC4",
      "verb": "#FF44FF",
      "adjective": "#FFD700",
      "preposition": "#FFAA00",
      "conjunction": "#FF6347",
      "interrogative": "#32CD32",
      "negation": "#DC143C",
      "definite_article": "#FF4500",
      "pronoun": "#9370DB",
      "nominative": "#00CED1",
      "accusative": "#FF69B4",
      "genitive": "#DDA0DD",
      "perfect_verb": "#FF44FF",
      "imperfect_verb": "#DA70D6",
      "imperative_verb": "#BA55D3",
      "active_participle": "#9932CC",
      "passive_participle": "#8A2BE2",
      "dual": "#4169E1",
      "sound_plural": "#0000FF",
      "broken_plural": "#1E90FF",
      "other": "#708090"
    }
  },
  "prompt_templates": {
    "single": "\nAnalyze this Arabic sentence for language learning: \"{sentence}\"\nTarget word: \"{target_word}\"\nComplexity level: {complexity}\nArabic is written RIGHT TO LEFT.\n\nFor each word, provide a detailed explanation that combines grammatical role, meaning, and function in this EXACT format:\n\n\"WORD (GRAMMATICAL_ROLE): contextual meaning — grammatical function\"\n\nEXAMPLE for Arabic word \"يكتب\":\n\"يكتب (verb): writes — main verb of the sentence\"\n\nReturn ONLY valid JSON in this exact format:\n{{\n  \"words\": [\n    {{\n      \"word\": \"exact_word\",\n      \"grammatical_role\": \"noun|verb|pronoun|adjective|conjunction|preposition|other\",\n      \"meaning\": \"WORD (GRAMMATICAL_ROLE): contextual meaning — grammatical function\"\n    }}\n  ],\n  \"overall_analysis\": {{\n    \"sentence_structure\": \"brief description\",\n      \"key_features\": \"important grammatical points\"\n  }}\n}}\n\nCRITICAL RULES:\n1. EXACTLY 3 fields per word: \"word\", \"grammatical_role\", \"meaning\"\n2. \"meaning\" MUST follow this EXACT format: \"WORD (GRAMMATICAL_ROLE): contextual meaning — grammatical function\"\n3. Use SIMPLE contextual meanings, not detailed grammatical analysis\n4. Explain each word's specific role in THIS sentence\n\nEXAMPLES:\n- \"هي (pronoun): she — subject of the sentence\"\n- \"تأكل (verb): eats/is eating — main verb of the sentence\"\n- \"الموز (noun): the banana — direct object of the verb\"\n- \"و (conjunction): and — connects two objects\"\n- \"البطيخ (noun): the watermelon — second direct object\"\n\nGrammatical roles: {grammatical_roles}\n",
    "batch": "\nYou are an expert linguist specializing in Arabic grammar analysis. Your task is to analyze Arabic sentences and provide SIMPLE contextual word meanings.\n\nSentences: {sentences}\nTarget word: \"{target_word}\"\nComplexity level: {complexity}\n\nMANDATORY: Respond with VALID JSON only. No explanations, no markdown, no code blocks.\n\nREQUIRED JSON FORMAT:\n{{\n  \"batch_results\": [\n    {{\n      \"sentence\": \"exact sentence text\",\n      \"analysis\": [\n        {{\n          \"word\": \"exact_word\",\n          \"grammatical_role\": \"noun|verb|pronoun|adjective|conjunction|preposition|other\",\n          \"meaning\": \"WORD (GRAMMATICAL_ROLE): contextual meaning — grammatical function\"\n        }}\n      ],\n      \"explanations\": {{\n        \"overall_structure\": \"brief description\",\n        \"key_features\": \"important grammatical points\"\n      }}\n    }}\n  ]\n}}\n\nCOMPLEXITY-SPECIFIC ROLE REQUIREMENTS:\n- beginner: Use only basic roles (noun, verb, pronoun, particle)\n- intermediate: Use basic + common specific roles (imperfect_verb, perfect_verb, definite_article, active_participle, passive_participle)\n- advanced: Use all available specific morphological roles\n\nCRITICAL RULES - FOLLOW EXACTLY FOR EVERY SINGLE WORD:\n1. EXACTLY 3 fields per word: \"word\", \"grammatical_role\", \"meaning\"\n2. \"meaning\" MUST ALWAYS follow this EXACT format: \"WORD (GRAMMATICAL_ROLE): contextual meaning — grammatical function\"\n3. NEVER provide detailed grammatical analysis, morphological details, cases, roots, or forms\n4. ONLY use the simple contextual format shown in examples\n5. EVERY word in the analysis MUST use this format - no exceptions\n\nREQUIRED FORMAT EXAMPLES - COPY THIS STYLE EXACTLY FOR EVERY WORD:\n- \"هي (pronoun): she — subject of the sentence\"\n- \"تأكل (verb): eats/is eating — main verb of the sentence\"  \n- \"الموز (noun): the banana — direct object of the verb\"\n- \"و (conjunction): and — connects two objects\"\n- \"البطيخ (noun): the watermelon — second direct object\"\n\nINVALID EXAMPLES - DO NOT USE THESE:\n- \"and. A coordinating conjunction (حرف عطف) connecting the two nouns\"\n- \"Third-person feminine singular detached pronoun\"\n- \"Imperfect verb from root أ-ك-ل\"\n\nONLY use the simple format: \"WORD (ROLE): meaning — function\"\n\nGrammatical roles: {grammatical_roles}\n",
    "sentence_generation": "\nYou are a native-level expert linguist in Modern Standard Arabic with professional experience teaching it to non-native learners.\n\nYour task: Generate a complete learning package for the Arabic word \"{word}\" in ONE response.\n\n===========================\nSTEP 1: WORD MEANING\n===========================\n{enriched_meaning_instruction}\nFormat: Return exactly one line like \"house (a building where people live)\" or \"he (male pronoun, used as subject)\"\n\n===========================\nWORD-SPECIFIC RESTRICTIONS\n===========================\nBased on the meaning above, identify any grammatical constraints, mood, person, or context restrictions for \"{word}\".\nExamples:\n- Imperatives (commands): ONLY use in direct commands, never in statements\n- Restricted moods: ONLY use in specific grammatical contexts (e.g., subjunctive for doubts)\n- Person/number restrictions: ONLY use in certain persons (e.g., formal pronouns)\n- Contextual restrictions: ONLY use in specific situations (e.g., directional verbs)\n\nIf no restrictions apply, state \"No specific grammatical restrictions.\"\n\nARABIC-SPECIFIC CONSIDERATIONS:\n- Arabic definite article \"ال\" assimilates with sun letters (ت، ث، د، ذ، ر، ز، س، ش، ص، ض، ط، ظ، ل، ن)\n- Consider root-based morphology and verb forms (فعل، يفعل، أفعل، etc.)\n- Respect gender agreement (masculine/feminine) and number (singular/dual/plural)\n- Use appropriate case markings (nominative مرفوع، accusative منصوب، genitive مجرور)\n\n===========================\nSTEP 2: SENTENCES\n===========================\nGenerate exactly {num_sentences} highly natural, idiomatic, culturally appropriate sentences in Modern Standard Arabic for the word \"{word}\".\n\nARABIC LANGUAGE REQUIREMENTS (MANDATORY):\n- Use proper Arabic script with correct diacritics (harakat) where needed for clarity\n- Follow Arabic grammatical rules: i'rab (case marking), agreement, word order\n- Use sun letter assimilation correctly (e.g., \"الشمس\" not \"الشمس\")\n- Apply proper root-based morphology and verb conjugation patterns\n- Ensure gender and number agreement throughout the sentence\n- Use appropriate politeness levels and register for Modern Standard Arabic\n- Arabic is read RIGHT TO LEFT - ensure proper RTL sentence structure\n\nQUALITY RULES (STRICT):\n- Every sentence must sound like it was written by an educated native Arabic speaker\n- Absolutely no unnatural, robotic, or literal-translation phrasing\n- Grammar, syntax, spelling, diacritics, gender agreement, case, politeness level, and punctuation must all be correct\n- The target word \"{word}\" MUST be used correctly in context according to its grammatical restrictions\n- Ensure EVERY sentence matches the EXACT meaning and follows the WORD-SPECIFIC RESTRICTIONS above\n- All sentences must be semantically meaningful (no filler templates)\n- No repeated sentence structures or patterns — each sentence must be unique\n- Each sentence must be no more than {max_length} words long. COUNT words precisely; if >{max_length}, it's INVALID – regenerate internally\n- Difficulty: {difficulty}\n  - beginner: Use only simple vocabulary and grammar, mostly present tense\n  - intermediate: Use mixed tenses, richer but still natural language\n  - advanced: Use complex structures, nuanced vocabulary, and advanced grammar\n\nVARIETY REQUIREMENTS:\n- Use different tenses (past, present, future, imperative)\n- Use different sentence types: declarative, interrogative, imperative\n- Use the target word in different grammatical roles if possible\n{context_instruction}\n\n===========================\nSTEP 3: ENGLISH TRANSLATIONS\n===========================\nFor EACH sentence above, provide a natural, fluent English translation.\n- Translation should be natural English, not literal word-for-word\n- Maintain the same meaning and nuance as the original sentence\n- Use appropriate English grammar and idioms\n\n===========================\nSTEP 4: IPA PRONUNCIATION\n===========================\nFor EACH sentence above, provide official IPA symbols only (not romanization, not any non-IPA symbols).\n- IPA must be accurate for Modern Standard Arabic pronunciation\n- Include stress marks and proper phonetic transcription\n- Cover the entire sentence, not just the target word\n\n===========================\nSTEP 5: IMAGE KEYWORDS\n===========================\nFor EACH sentence above, generate exactly 3 diverse and specific keywords for image search.\n- Keywords MUST be SPECIFIC/concrete (e.g., 'Arabic coffee pot on ornate tray' not 'beverage'); avoid generics like 'Arabic' or 'language'\n- Focus on concrete objects, actions, or scenes that represent the sentence\n- Keywords should be in English only\n\n===========================\nOUTPUT FORMAT\n===========================\nReturn your response in this exact text format:\n\nMEANING: [brief English meaning]\n\nRESTRICTIONS: [grammatical restrictions identified]\n\nSENTENCES:\n1. [sentence 1 in Arabic]\n2. [sentence 2 in Arabic]\n3. [sentence 3 in Arabic]\n\nTRANSLATIONS:\n1. [natural English translation for sentence 1]\n2. [natural English translation for sentence 2]\n3. [natural English translation for sentence 3]\n\nIPA:\n1. [IPA transcription for sentence 1]\n2. [IPA transcription for sentence 2]\n3. [IPA transcription for sentence 3]\n\nKEYWORDS:\n1. [keyword1, keyword2, keyword3]\n2. [keyword1, keyword2, keyword3]\n3. [keyword1, keyword2, keyword3]\n\nIMPORTANT:\n- Return ONLY the formatted text, no extra explanation\n- Sentences must be in Arabic only\n- Translations must be natural, fluent English\n- IPA must use official IPA symbols only\n- Keywords must be comma-separated\n- Ensure exactly {num_sentences} sentences, translations, IPA transcriptions, and keywords\n"
  }
}